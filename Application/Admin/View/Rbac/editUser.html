<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>{$title}</title>
<include file="Public/scripts" />
</head>
<body>
<div class="row">
  <div class="col-md-12 " >
    <h2>{$title}</h2>
  </div>
  <div class="col-md-12 " >
    <form action="" method="post" name="form1" id="form1" class="ajaxformx">
      <input type="hidden" id="id" name="id" value="{$db.id}" />
      <div class="col-md-6 custom-form">
        <div class="form-group">
          <label class="control-label">用户名：</label>
          <div class="controls">
            <input type="text" class="form-control" name="username" id="username" placeholder="输入{$name}名" value="{$db.username}"  <gt name="db.id" value="0">readonly="readonly"</gt> />
          </div>
        </div>
        <div class="form-group">
          <label class="control-label">密码：</label>
          <div class="controls">
            <input type="text" class="form-control" name="userpwd" id="userpwd" placeholder="输入{$name}密码" value="" />
          </div>
        </div>
        <div class="form-group">
          <label class="control-label">描述：</label>
          <div class="controls">
            <input type="text" class="form-control" rows="5" name="remark" id="remark" value="{$db.remark}" placeholder="{$name}描述" />
          </div>
        </div>
        <div class="form-group">
          <label class="control-label">角色：</label>
          <div class="controls"> 
            <select name="roleid[]" id="roleid"  multiple="multiple" class="form-control"> 
          <volist id="vo" name="rolelist"> 
          <eq name="vo.selected" value="1">
          <option value="{$vo.id}" selected="selected">{$vo.name}</option>
          <else/>
          <option value="{$vo.id}" >{$vo.name}</option>
          </eq>
          </volist>
        </select>
        
          </div>
        </div>
        <div class="form-group">
          <label class="control-label">排序：</label>
          <div class="controls">
            <input type="text" class="form-control w80" name="sort" id="sort" value="{$db.sort}"  /> 
          </div>
        </div>
        <div class="form-group">
          <label class="control-label">状态：</label>
          <div class="controls">
            <select class="form-control w80 " name="status" id="status">
              <volist name="statuslist" id="vo">
                <notempty name="db.id">
                  <eq name="db.status" value="$key">
                    <option value="{$key}" selected="selected">{$vo}</option>
                    <else/>
                    <option value="{$key}" >{$vo}</option>
                  </eq>
                  <else/>
                  <eq name="key" value="1">
                    <option value="{$key}" selected="selected">{$vo}</option>
                    <else/>
                    <option value="{$key}" >{$vo}</option>
                  </eq>
                </notempty>
              </volist>
            </select>
          </div>
        </div>
        <div class="form-group" >
          <div class="controls">
            <hr />
            <button type="submit" class="btn btn-success" id="btnSubmit"><i class="fa fa-save"></i> 提交</button>
            <button type="button" class="btn btn-default" onClick="history.back();"><i class="fa fa-undo"></i> 返回</button>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>
<script language="javascript">
var $fields={
	"username": {
		validators: {
			notEmpty: {
				message: '{$name}名不能为空'
			} 
		}
	} ,
	<gt name="db.id" value="0">
	<else/>
	"userpwd": {
		validators: {
			notEmpty: {
				message: '{$name}密码不能为空'
			} 
		}
	} ,
	</gt>
	"sort": {
		validators: {
			regexp: {
				regexp: /^[0-9\.]+$/,
				message: '必须是数字'
			}
		}
	} 
	};
</script>
<include file="Public/form" /> 
</body>
</html>
